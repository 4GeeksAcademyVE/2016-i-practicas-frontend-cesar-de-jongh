<!DOCTYPE html>
<html lang="es" class="personajes">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/style.css">
   	<link href="css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="js/jquery-3.1.0.min.js"></script>
    <title>Star Wars - Personajes</title>

  </head>

  <body class="personajes">

  <nav class="navbar navbar-inverse">
  <div class="container-fluid">
    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Star Wars</a>
    </div>

    
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="peliculas.html">Peliculas <span class="sr-only">(current)</span></a></li>
        <li><a href="personajes.html">Personajes </a></li>
        <li><a href="planetas.html">Planetas </a></li>
        <li><a href="vehiculos.html">Veh&iacute;culos </a></li>
        <li><a href="cruceros_espaciales.html">Cruceros Espaciales </a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Navegaci&oacute;n <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="peliculas.html">Peliculas</a></li>
            <li><a href="personajes.html">Personajes</a></li>
            <li><a href="planetas.html">Planetas</a></li>
            <li><a href="vehiculos.html">Vehiculos</a></li>
            <li><a href="cruceros_espaciales.html">Cruceros Espaciales</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">

  <div class="row" style="margin-bottom: 30px;">
    <div class="col-md-12 text-center">
    <img src="images/Star_Wars_Yellow_Logo.svg.png" class="img-responsive" alt="Responsive image">
  </div>
  

  <div class="row" id="people"></div>

  </div>

<div class="row">
  <div class="col-md-12">
     <button value="" class="verMas btn btn-primary">Ver mas</button>
</div>

<script type="text/javascript">
  $(document).ready(function(){
    function loadSpecies(url, i){

    }
  })
</script>

 <script type="text/javascript">
   $(document).ready(function(){
    $.ajax({
      url: "http://swapi.co/api/people/", 
      dataType: "json", 
      success: function(data){
        for(var i=0;i<data.results.length;i++){
          $('body .container .row #people').append("<div class='col-md-4 text center'><a href='#' class='thumbnail'><img style='width: 350px;' src='images/" + data.results[i].name.replace(/\s/g,"") +".jpg'><h3>"+data.results[i].name+"</h3><ul><li>Especie: "+data.results[i].species+"</li><li>Planeta: "+data.results[i].homeworld+"</li></ul></div>"); 
        }
      }
    })
   })
 </script>

<script type="text/javascript">

function cargarEspecie(_url, pos){
    $.ajax({
        url: _url,
        dataType: "json",
        success: function(data){
            $("#especiePersonaje"+pos).html("Especie: "+data.name);
        }
    });
}

$(document).ready(function() {
   function cargarPersonajes(_url){
       $.ajax({
         url: _url,
         dataType: "json",
         success: function (data){
           $("span#total_people").text(data.count);
           if(data.next!=null){
             $('.verMas').attr('value',data.next);
             $('.verMas').removeClass('disabled');
           }else{
             $('.verMas').addClass('disabled');
           }

           for (var i = data.results.length - 1; i >= 0; i--) {
              $('body .container .row #people').append("<div class='col-md-4 text center'><a href='#' class='thumbnail'><img style='width: 350px;' src='images/" + data.results[i].name.replace(/\s/g,"") +".jpg'><h3>"+data.results[i].name+"</h3><ul><li id='especiePersonaje"+i+"'></li><li>Planeta: "+data.results[i].homeworld+"</li></ul></div>");
           
                cargarEspecie(data.results[i].species, i);
            }
         }
       });
   } 
   cargarPersonajes("http://swapi.co/api/people/?page=2");
   $(".verMas").on("click", function(){
     var url = this.value;
     cargarPersonajes(url);
   });
 });
   
 
</script>
    
  

</body>
</html>

<script type="text/javascript">

function cargarEspecie(_url, pos){
    $.ajax({
        url: _url,
        dataType: "json",
        success: function(data){
            $("#especiePersonaje"+pos).html("Especie: "+data.name);
        }
    });
}

$(document).ready(function() {
   function cargarPersonajes(_url){
       $.ajax({
         url: _url,
         dataType: "json",
         success: function (data){
           $("span#total_people").text(data.count);
           if(data.next!=null){
             $('.verMas').attr('value',data.next);
             $('.verMas').removeClass('disabled');
           }else{
             $('.verMas').addClass('disabled');
           }

           for (var i = data.results.length - 1; i >= 0; i--) {
              $('body .container .row #people').append("<div class='col-md-4 text center'><a href='#' class='thumbnail'><img style='width: 350px;' src='images/" + data.results[i].name.replace(/\s/g,"") +".jpg'><h3>"+data.results[i].name+"</h3><ul><li id='especiePersonaje"+i+"'></li><li>Planeta: "+data.results[i].homeworld+"</li></ul></div>");
           
                cargarEspecie(data.results[i].species, i);
            }
         }
       });
   } 
   cargarPersonajes("http://swapi.co/api/people/?page=2");
   $(".verMas").on("click", function(){
     var url = this.value;
     cargarPersonajes(url);
   });
 });
   
 
</script>
